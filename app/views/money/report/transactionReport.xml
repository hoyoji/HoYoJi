<Alloy>
	<View class="container" title="流水汇总">
		<!-- <Widget src="com.hoyoji.titanium.widget.HoYoJiUIFrame"/> -->
		<Widget id="titleBar" src="com.hoyoji.titanium.widget.TitleBar" title="流水汇总"/>
		<View id="body" top="50" bottom="50" left="10" right="10" backgroundColor="#e1e1e1">
			<ScrollView layout="vertical" scrollType="vertical" disableBounce="true" id="contentScrollView" class="table-edit" bottom="0" top="0">
				<View height="42">
					<Label left="5" width="30%">总收入</Label>
					<View id="money" layout="horizontal" horizontalWrap="false" left="180" width="30%">
						<Widget src="com.hoyoji.titanium.widget.AutoBindLabel" width="Ti.UI.SIZE" height="Ti.UI.SIZE" 
						id="localCurrencySymbol" autoInit="false"
						bindModel = "User"
						bindAttribute = "getLocalCurrencySymbol()"
						/>
						<Require id="moneyIncomeTotal" src="money/report/moneyTotal" modelType="MoneyIncome" totalField="SUM(main.amount * main.exchangeRate / IFNULL(ex.rate, 1))" />
					</View>
				</View>
				<View height="42">
					<Label left="5" width="30%">总支出</Label>
					<Require id="moneyExpenseTotal" src="money/report/moneyTotal" modelType="MoneyExpense" totalField="SUM(main.amount * main.exchangeRate/ IFNULL(ex.rate, 1))" right="5"/>
				</View>
				<View height="42">
					<Label left="5" width="30%">总借入</Label>
					<Require id="moneyBorrowTotal" src="money/report/moneyTotal" modelType="MoneyBorrow" totalField="SUM(main.amount * main.exchangeRate / IFNULL(ex.rate, 1))" right="5"/>
				</View>
				<View height="42">
					<Label left="5" width="30%">总还款</Label>
					<Require id="moneyReturnTotal" src="money/report/moneyTotal" modelType="MoneyReturn" totalField="SUM(main.amount * main.exchangeRate / IFNULL(ex.rate, 1))" right="5"/>
				</View>
				<View height="42">
					<Label left="5" width="30%">总借出</Label>
					<Require id="moneyLendTotal" src="money/report/moneyTotal" modelType="MoneyLend" totalField="SUM(main.amount * main.exchangeRate / IFNULL(ex.rate, 1))" right="5"/>
				</View>
				<View height="42">
					<Label left="5" width="30%">总收款</Label>
					<Require id="moneyPaybackTotal" src="money/report/moneyTotal" modelType="MoneyPayback" totalField="SUM(main.amount * main.exchangeRate / IFNULL(ex.rate, 1))" right="5"/>
				</View>
				<View height="42">
					<Label left="5" width="30%">结余</Label>
					<Label id="totalBalance" right="5">0.00</Label>
				</View>
			</ScrollView>
		</View>
		<Widget id="footerBar" src="com.hoyoji.titanium.widget.FooterBar" onSingletap="onFooterbarTap"
		buttons="查询" imagesFolder="/images/money/report"
		ids="transactionsSummuryQuery"/>
	</View>
</Alloy>