<Alloy>
	<View class="container" title="收入" saveableContainer="true" backgroundColor="white" width="100%" height="100%">
		<Widget id="titleBar" src="com.hoyoji.titanium.widget.TitleBar"
		addModeTitle="新增收入" readModeTitle="收入详细" editModeTitle="修改收入"/>
		<ScrollView layout="vertical" scrollType="vertical" disableBounce="true" id="contentScrollView" class="table-edit" bottom="0" top="42">
			<View id="ownerUser" height="42">
			<Label left="0" width="30%" height="Ti.UI.FILL">记账好友</Label>
			<Widget src="com.hoyoji.titanium.widget.AutoBindLabel"  hintText="自己"
			bindModel="$.$model"
			bindAttribute="getOwnerUser()"/>
			</View>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableDateTimeField" labelText="时间" hintText="请选择时间" id="date"
			bindModel="$.$model"
			bindAttribute="date"/>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableNumericField" id="amount" labelText="金额" hintText="请输入金额"
			bindModel="$.$model"
			bindAttribute="amount"/>
			<View id="localAmount" height="42">
			<Label left="0" width="30%" height="Ti.UI.FILL">金额</Label>
			<Widget src="com.hoyoji.titanium.widget.AutoBindLabel"  
			bindModel="$.$model"
			bindAttribute="getLocalAmount()"/>
			</View>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextField" id="project" labelText="项目" hintText="请选择项目"
			bindModel="$.$model"
			bindAttribute="project"
			bindAttributeIsModel="name"
			bindModelSelector="project/projectAll"
			/>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextField" id="moneyIncomeCategory" labelText="分类" hintText="请选择分类"
			bindModel="$.$model"
			bindAttribute="moneyIncomeCategory"
			bindAttributeIsModel="name"
			bindModelSelector="money/moneyIncomeCategoryAll"
			bindModelSelectorParams="selectedProject:project"
			/>
			/>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextField" id="moneyAccount" labelText="账户" hintText="请选择账户"
			bindModel="$.$model"
			bindAttribute="moneyAccount"
			bindAttributeIsModel="getAccountNameCurrency()"
			bindModelSelector="setting/moneyAccount/moneyAccountAll"
			/>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableNumericField" id="exchangeCurrencyRate" labelText="汇率" hintText="请输入汇率"
			bindModel="$.$model"
			bindAttribute="exchangeCurrencyRate"/>
			<!-- <Button id="updateRate">更新本地汇率</Button> -->
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextField" id="friend" labelText="付款方" hintText="请选择付款方"
			bindModel="$.$model"
			bindAttribute="friend"
			bindAttributeIsModel="getDisplayName()"
			bindModelSelector="friend/friendAll"
			/>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextField" id="friendAccount" labelText="付款方账户" hintText="请选择付款方账户"
			bindModel="$.$model"
			bindAttribute="friendAccount"
			bindAttributeIsModel="getAccountNameCurrency()"
			bindModelSelector="setting/moneyAccount/moneyAccountAll"
			bindModelSelectorParams="selectedFriend:friend"
			/>
			<View height="42">
			<Label left="0" width="30%" height="Ti.UI.FILL">是否预收</Label>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableSwitcher"
			hightLight="false"
			items="否,是"
			values="Ordinary,PreExpense"
			bindModel="$.$model"
			bindAttribute="incomeType"/>
			</View>
			<Widget src="com.hoyoji.titanium.widget.AutoUpdatableTextArea" labelText="备注" hintText="请输入备注"
			bindModel="$.$model"
			bindAttribute="remark"/>
		</ScrollView>
	</View>
</Alloy>